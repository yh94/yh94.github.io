---
title: 反射和动态代理
date: 2021-02-05
tags: 
 - java 
categories:
 - java
---


## 反射
> 反射：在运行时返回给我们类信息。
基础用法：创建对象，获取属性名。
重点是:[运行时]获取类信息，编写代码都是.java 然后编译成.class, .class文件会被jvm装载运行，这里运行的就叫做运行时。
> 理解反射，既要抽象。
> 先介绍一下 工具，组件，框架。
 - 工具：util类
 - 组件：jar包
 - 框架：组件发展壮大
> 例如SpringMVC 你在方法上写上对象，传入的参数就会帮你封装到对象上
> Mybatis可以让我们只写接口，不写实现类，就可以执行SQL
你在类上加上@Component注解，Spring就帮你创建对象
这些统统都有反射的身影：约定大于配置，配置大于硬编码。
## 动态代理
> 动态代理其实就是代理模式的一种，代理模式是设计模式之一,代理模型有静态代理和动态代理。静态代理需要自己写代理类，实现对应的接口，比较麻烦。

在Java中，动态代理常见的又有两种实现方式：
**JDK**动态代理和**CGLIB**代理.
JDK动态代理其实就是运用了反射的机制，而CGLIB代理则用的是利用ASM框架，通过修改其字节码生成子类来处理
DK动态代理会帮我们实现接口的方法，通过invokeHandler对所需要的方法进行增强。
- 像上面所讲的Mybatis不用写实现类，只写接口就可以执行SQL，又或是SpringAOP 等等好用的技术，实际上用的就是动态代理
